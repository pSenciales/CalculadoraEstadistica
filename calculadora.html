<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tabla con Operaciones</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .table-input {
      width: 80px;
    }
    .table-result {
      font-weight: bold;
    }
  </style>
</head>
<body>

<div class="container mt-5">
  <h2 class="text-center">Tabla de Cálculos</h2>
  <table class="table table-bordered">
    <thead class="table-light">
      <tr>
        <th>xi</th>
        <th>fi</th>
        <th>xi * fi</th>
        <th>xi^2</th>
        <th>xi^2 * fi</th>
      </tr>
    </thead>
    <tbody id="table-body">
      <!-- Manual generation of 12 rows -->
      <tr>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="xi-1"></td>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="fi-1"></td>
        <td id="xi-fi-1" class="table-result"></td>
        <td id="xi-square-1" class="table-result"></td>
        <td id="xi-square-fi-1" class="table-result"></td>
      </tr>
      <tr>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="xi-2"></td>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="fi-2"></td>
        <td id="xi-fi-2" class="table-result"></td>
        <td id="xi-square-2" class="table-result"></td>
        <td id="xi-square-fi-2" class="table-result"></td>
      </tr>
      <tr>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="xi-3"></td>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="fi-3"></td>
        <td id="xi-fi-3" class="table-result"></td>
        <td id="xi-square-3" class="table-result"></td>
        <td id="xi-square-fi-3" class="table-result"></td>
      </tr>
      <tr>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="xi-4"></td>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="fi-4"></td>
        <td id="xi-fi-4" class="table-result"></td>
        <td id="xi-square-4" class="table-result"></td>
        <td id="xi-square-fi-4" class="table-result"></td>
      </tr>
      <tr>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="xi-5"></td>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="fi-5"></td>
        <td id="xi-fi-5" class="table-result"></td>
        <td id="xi-square-5" class="table-result"></td>
        <td id="xi-square-fi-5" class="table-result"></td>
      </tr>
      <tr>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="xi-6"></td>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="fi-6"></td>
        <td id="xi-fi-6" class="table-result"></td>
        <td id="xi-square-6" class="table-result"></td>
        <td id="xi-square-fi-6" class="table-result"></td>
      </tr>
      <tr>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="xi-7"></td>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="fi-7"></td>
        <td id="xi-fi-7" class="table-result"></td>
        <td id="xi-square-7" class="table-result"></td>
        <td id="xi-square-fi-7" class="table-result"></td>
      </tr>
      <tr>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="xi-8"></td>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="fi-8"></td>
        <td id="xi-fi-8" class="table-result"></td>
        <td id="xi-square-8" class="table-result"></td>
        <td id="xi-square-fi-8" class="table-result"></td>
      </tr>
      <tr>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="xi-9"></td>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="fi-9"></td>
        <td id="xi-fi-9" class="table-result"></td>
        <td id="xi-square-9" class="table-result"></td>
        <td id="xi-square-fi-9" class="table-result"></td>
      </tr>
      <tr>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="xi-10"></td>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="fi-10"></td>
        <td id="xi-fi-10" class="table-result"></td>
        <td id="xi-square-10" class="table-result"></td>
        <td id="xi-square-fi-10" class="table-result"></td>
      </tr>
      <tr>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="xi-11"></td>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="fi-11"></td>
        <td id="xi-fi-11" class="table-result"></td>
        <td id="xi-square-11" class="table-result"></td>
        <td id="xi-square-fi-11" class="table-result"></td>
      </tr>
      <tr>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="xi-12"></td>
        <td><input type="number" class="form-control table-input" oninput="calculate()" id="fi-12"></td>
        <td id="xi-fi-12" class="table-result"></td>
        <td id="xi-square-12" class="table-result"></td>
        <td id="xi-square-fi-12" class="table-result"></td>
      </tr>

      <!-- Last row for totals -->
      <tr class="table-light">
        <td id="total-xi" class="table-result">Total:</td>  <!-- Total de xi -->
        <td id="total-fi" class="table-result"></td>  <!-- Total de fi -->
        <td id="total-xi-fi" class="table-result"></td>
        <td id="total-xi-square" class="table-result"></td>
        <td id="total-xi-square-fi" class="table-result"></td>
      </tr>      
    </tbody>
  </table>
</div>
<div>
    <table class="table table-bordered">
        <tr class="table-light">
            <td class="table-result" id="pis">
                PIS:
            </td>
            <td class="table-result" id="ec">
                EC:
            </td>
        </tr>
    </table>


</div>

<script>
  function calculate() {
  let totalXi = 0;
  let totalFi = 0;
  let totalXiFi = 0;
  let totalXiSquare = 0;
  let totalXiSquareFi = 0;

  for (let i = 1; i <= 12; i++) {
    const xi = parseFloat(document.getElementById(`xi-${i}`).value) || 0;
    const fi = parseFloat(document.getElementById(`fi-${i}`).value) || 0;

    // Calcula xi * fi, xi^2, xi^2 * fi
    const xiFi = xi * fi;
    const xiSquare = xi * xi;
    const xiSquareFi = xiSquare * fi;

    // Actualiza los resultados en la tabla
    document.getElementById(`xi-fi-${i}`).innerText = xiFi.toFixed(2);
    document.getElementById(`xi-square-${i}`).innerText = xiSquare.toFixed(2);
    document.getElementById(`xi-square-fi-${i}`).innerText = xiSquareFi.toFixed(2);

    // Acumula los totales
    totalXi += xi;
    totalFi += fi;
    totalXiFi += xiFi;
    totalXiSquare += xiSquare;
    totalXiSquareFi += xiSquareFi;
  }

  // Actualiza los totales en la última fila
  document.getElementById('total-xi').innerText = "Total:\t" + totalXi.toFixed(2);
  document.getElementById('total-fi').innerText = totalFi.toFixed(2);
  document.getElementById('total-xi-fi').innerText = totalXiFi.toFixed(2);
  document.getElementById('total-xi-square').innerText = totalXiSquare.toFixed(2);
  document.getElementById('total-xi-square-fi').innerText = totalXiSquareFi.toFixed(2);
  
  document.getElementById('pis').innerText = "PIS:\t" + (totalXiFi.toFixed(2)/totalFi).toFixed(2)
  document.getElementById('ec').innerText = "EC:\t" + ((totalXiFi.toFixed(2)/totalFi).toFixed(2) - totalFi).toFixed(2)
  
}

</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
